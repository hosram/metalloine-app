<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تبدیل سختی</title>
  <!-- اگر style.css یا هر فایلی در index.html لینک شده بود، این‌جا هم همان را قرار دهید -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<h1 style="text-align:center;margin-top:1rem;">تبدیل سختی</h1>

<section id="hardness-card" class="card">
  <h2>مقدار:</h2>
  <input id="h-val" type="number" placeholder="200" />

  <h2>از:</h2>
  <select id="h-from">
    <option>HB</option><option>HRC</option>
    <option>HRB</option><option>HV</option>
  </select>

  <h2>به:</h2>
  <select id="h-to">
    <option>HRC</option><option>HB</option>
    <option>HRB</option><option>HV</option>
  </select>

  <h2>جنس:</h2>
  <select id="h-mat">
    <option value="steel">فولاد</option>
    <option value="cast_iron">چدن</option>
    <option value="aluminium">آلومینیوم</option>
    <option value="copper">مس</option>
    <option value="brass">برنج</option>
    <option value="phosphor_bronze">برنز فسفری</option>
  </select>

  <button id="h-btn" style="margin-top:1rem;">محاسبه</button>
  <output id="h-out" style="display:block;font-size:1.5rem;margin-top:0.5rem;">—</output>
</section>

<!-- دکمهٔ بازگشت به صفحهٔ اصلی -->
<div style="text-align:center;margin-top:2rem;">
  <a href="index.html" style="color:#fff;text-decoration:none;">⬅ بازگشت به صفحهٔ اصلی</a>
</div>

<script type="module">
  let hardness;
  const btn   = document.getElementById('h-btn');
  const $val  = document.getElementById('h-val');
  const $from = document.getElementById('h-from');
  const $to   = document.getElementById('h-to');
  const $mat  = document.getElementById('h-mat');
  const $out  = document.getElementById('h-out');

  btn.addEventListener('click', async () => {
    if (!hardness) {
      hardness = await import('./convertHardness.js');   // چون هر دو فایل در ریشه هستند
    }
    const v = parseFloat($val.value);
    if (isNaN(v)) { $out.textContent = '—'; return; }
    try {
      const res = hardness.convert(v, $from.value, $to.value, $mat.value);
      $out.textContent = res.toFixed(1);
    } catch (e) {
      $out.textContent = e.message;
    }
  });
</script>
</body>
</html>
