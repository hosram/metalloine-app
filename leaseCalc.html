<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù„ÛŒØ²ÛŒÙ†Ú¯ ÙÙ„Ø²Ø§Øª | Metalloine</title>

  <!-- ÙÙˆÙ†Øª Vazirmatn (ÛŒØ§ Ù‡Ø± ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ Ø¯Ù„Ø®ÙˆØ§Ù‡) -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/vazirmatn@33.003.4/Farsi-font-face.css" />

  <!-- Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù„ÛŒ (Ø§Ú¯Ø± Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ ÙØ§ÛŒÙ„ Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯Ø§ Ø¯Ø§Ø±ÛŒØ¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ù…Ø§Ù† Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯) -->
  <style>
    :root {
      --c-primary: #8E1F61;
      --c-accent:  #8FA2B2;
      --glass: rgba(255,255,255,0.1);
      --r: 24px;
      --g: 12px;
    }
    * {
      box-sizing: border-box; margin: 0; padding: 0;
    }
    body {
      background: #000; color: #fff;
      font-family: "Vazirmatn", sans-serif;
      min-height: 100vh; line-height: 1.6;
    }
    #topbar {
      display: flex; justify-content: center; align-items: center;
      height: 64px; margin: var(--g);
      background: var(--glass); backdrop-filter: blur(24px);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: var(--r);
    }
    .logo {
      display: flex; align-items: center; gap: 8px;
      font-size: 1.4rem; font-weight: 700;
    }
    .ring {
      width: 22px; height: 22px;
      border: 6px solid var(--c-accent); border-radius: 50%;
    }
    .brand { color: var(--c-primary); }

    main {
      max-width: 420px; margin: 0 auto; padding: var(--g);
    }
    .card {
      background: var(--glass); backdrop-filter: blur(24px);
      border-radius: var(--r);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 16px;
      margin-top: var(--g);
    }
    h2 {
      text-align: center; margin-bottom: var(--g);
    }
    label {
      display: flex; flex-direction: column; gap: 4px; font-size: 0.85rem;
      margin-bottom: 8px;
    }
    input, select, button {
      border: none; border-radius: var(--r);
      background: var(--glass); color: #fff; font: inherit;
      padding: 10px;
    }
    input:focus, select:focus {
      outline: 2px solid var(--c-primary);
    }
    /* Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†â€ŒÚ©Ù‡ Ù…Ù†ÙˆÛŒ Ú©Ø´ÙˆÛŒÛŒ (select/option) Ú©Ø§Ù…Ù„Ø§Ù‹ ØªÛŒØ±Ù‡ Ø¨Ø§Ø´Ø¯: */
    select {
      background: #333; /* ÛŒØ§ #1a1a1a */
      color: #fff;
    }
    option {
      background: #333; /* ÛŒØ§ #1a1a1a */
      color: #fff;
    }
    .btn-submit {
      background: linear-gradient(135deg, var(--c-primary), var(--c-accent));
      color: #fff; cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
      font-weight: 600; margin-top: 16px;
      width: 100%; text-align: center;
    }
    .result {
      background: #111; margin-top: 12px;
      padding: 12px; border-radius: var(--r);
      border: 1px solid rgba(255,255,255,0.2);
      font-size: 1rem; white-space: pre-line;
      min-height: 4em;
    }
    .btn-back {
      display: inline-block; margin-top: 20px;
      background: #444; color: #fff; border-radius: var(--r);
      padding: 10px 20px; text-decoration: none; text-align: center;
    }
  </style>
</head>
<body>
<header id="topbar">
  <span class="logo">
    <span class="ring"></span>
    <span class="brand">Metalloine</span>
  </span>
</header>

<main>
  <h2>Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù„ÛŒØ²ÛŒÙ†Ú¯ ÙÙ„Ø²Ø§Øª</h2>
  <div class="card">
    <!-- Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ ÙÙ„Ø² -->
    <label>Ù†ÙˆØ¹ ÙÙ„Ø²
      <select id="mat">
        <option>ÙÙˆÙ„Ø§Ø¯ Ø³Ø§Ø¯Ù‡</option>
        <option>ÙÙˆÙ„Ø§Ø¯ Ø²Ù†Ú¯â€ŒÙ†Ø²Ù†</option>
        <option>Ù…Ø³</option>
        <option>Ø¢Ù„ÙˆÙ…ÛŒÙ†ÛŒÙˆÙ…</option>
        <option>Ø¨Ø±Ù†Ø¬</option>
        <option>ÙØ³ÙØ± Ø¨Ø±Ù†Ø²</option>
        <option>ØªÛŒØªØ§Ù†ÛŒÙˆÙ…</option>
      </select>
    </label>

    <!-- Ù…Ø¨Ù„Øº Ú©Ù„ÛŒ ÙØ§Ú©ØªÙˆØ± -->
    <label>Ù…Ø¨Ù„Øº Ú©Ù„ÛŒ ÙØ§Ú©ØªÙˆØ± (ØªÙˆÙ…Ø§Ù†)
      <input id="invoicePrice" type="number" placeholder="Ù…Ø«Ù„Ø§Ù‹ 5000000" />
    </label>

    <button id="btnCalc" class="btn-submit">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>

    <div class="result" id="resBox">Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</div>
    <a href="index.html" class="btn-back">â¬… Ø¨Ø§Ø²Ú¯Ø´Øª</a>
  </div>
</main>

<script>
/* Ø¨Ø±Ø§ÛŒ Ù‡Ø± ÙÙ„Ø² Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®Ø§Øµ (Ù…Ø«Ù„Ø§Ù‹ Ù†Ø±Ø® Ø³ÙˆØ¯ Ù…ØªÙØ§ÙˆØª ÛŒØ§ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø²ÛŒ) Ø±Ø§ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒÙ…. 
   Ø§ÛŒÙ† ÙÙ‚Ø· ÛŒÚ© Ù†Ù…ÙˆÙ†Ù‡â€ŒÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†Ø­ÙˆÙ‡â€ŒÛŒ Ø§Ø®ØªØµØ§Øµ Ù†Ø±Ø®â€ŒÙ‡Ø§Ø³Øª. */
const metalData = {
  "ÙÙˆÙ„Ø§Ø¯ Ø³Ø§Ø¯Ù‡": {
    name: "ÙÙˆÙ„Ø§Ø¯ Ø³Ø§Ø¯Ù‡",
    monthlyInterest: 0.08, // 8% Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡
    globalExtra: 0        // Ø¨Ø¯ÙˆÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø²ÛŒ Ø§Ø¶Ø§ÙÙ‡
  },
  "ÙÙˆÙ„Ø§Ø¯ Ø²Ù†Ú¯â€ŒÙ†Ø²Ù†": {
    name: "ÙÙˆÙ„Ø§Ø¯ Ø²Ù†Ú¯â€ŒÙ†Ø²Ù†",
    monthlyInterest: 0.08,
    globalExtra: 200000  // Ù…Ø«Ù„Ø§Ù‹ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø²ÛŒ Ø¨ÛŒØ´ØªØ±
  },
  "Ù…Ø³": {
    name: "Ù…Ø³",
    monthlyInterest: 0.07, // Ø³ÙˆØ¯ ÙØ±Ø¶ÛŒ 7%
    globalExtra: 100000
  },
  "Ø¢Ù„ÙˆÙ…ÛŒÙ†ÛŒÙˆÙ…": {
    name: "Ø¢Ù„ÙˆÙ…ÛŒÙ†ÛŒÙˆÙ…",
    monthlyInterest: 0.08,
    globalExtra: 50000
  },
  "Ø¨Ø±Ù†Ø¬": {
    name: "Ø¨Ø±Ù†Ø¬",
    monthlyInterest: 0.08,
    globalExtra: 150000
  },
  "ÙØ³ÙØ± Ø¨Ø±Ù†Ø²": {
    name: "ÙØ³ÙØ± Ø¨Ø±Ù†Ø²",
    monthlyInterest: 0.08,
    globalExtra: 200000
  },
  "ØªÛŒØªØ§Ù†ÛŒÙˆÙ…": {
    name: "ØªÛŒØªØ§Ù†ÛŒÙˆÙ…",
    monthlyInterest: 0.09,
    globalExtra: 300000
  }
};

/* ØªÙˆØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ - Ù†Ù…ÙˆÙ†Ù‡ */
function calcPriceNaghad(basePrice) {
  return basePrice;
}
function calcPriceOneMonthNoDP(basePrice, monthlyInterest=0.08) {
  return basePrice * (1 + monthlyInterest);
}
function calcPriceOneMonthWithDP(basePrice, dpRate=0.3, monthlyInterest=0.08) {
  const dp = basePrice * dpRate;
  const remaining = basePrice - dp;
  return dp + remaining * (1 + monthlyInterest);
}

/* ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ù¾Ø§ÛŒÙ‡ Ø¨Ø§ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø²ÛŒ ÛŒØ§ Ù‡Ø± Ø§Ø¶Ø§ÙÙ‡ Ø¯ÛŒÚ¯Ø± */
function getBasePrice(metalKey, invoicePrice){
  const info = metalData[metalKey] || {};
  const extra = info.globalExtra || 0; // Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø¶Ø§ÙÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù…ØªØ±ÛŒØ§Ù„
  return invoicePrice + extra;
}

/* Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ */
document.getElementById("btnCalc").addEventListener("click", () => {
  const mat = document.getElementById("mat").value;          // ÙÙ„Ø² Ø§Ù†ØªØ®Ø§Ø¨ÛŒ
  const invoicePrice = parseFloat(document.getElementById("invoicePrice").value || "0");

  if (invoicePrice <= 0) {
    document.getElementById("resBox").textContent = "Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ú©Ù„ÛŒ ÙØ§Ú©ØªÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.";
    return;
  }

  // Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙÙ„Ø² Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ø±Ø§ Ø§Ø² Ø¢Ø¨Ø¬Ú©Øª metalData Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒÙ…
  const info = metalData[mat];
  if (!info) {
    document.getElementById("resBox").textContent = "Ù…ØªØ±ÛŒØ§Ù„ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.";
    return;
  }

  // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ù¾Ø§ÛŒÙ‡ (Ù…Ø¬Ù…ÙˆØ¹ Ù…Ø¨Ù„Øº ÙØ§Ú©ØªÙˆØ± + Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø²ÛŒ Ø§Ú¯Ø± Ø¨Ø§Ø´Ø¯)
  const basePrice = getBasePrice(mat, invoicePrice);

  // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù (Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ Ø§Ø² info Ø¨Ø±Ø¯Ø§Ø´Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯)
  const monthlyInterest = info.monthlyInterest || 0.08;
  const pNaghad = calcPriceNaghad(basePrice);
  const pNasiehNoDP = calcPriceOneMonthNoDP(basePrice, monthlyInterest);
  const pNasiehWithDP = calcPriceOneMonthWithDP(basePrice, 0.3, monthlyInterest);

  let msg = "";
  msg += "ğŸ”¹ Ù†ÙˆØ¹ ÙÙ„Ø²: " + mat + "\n";
  msg += "ğŸ”¹ Ù…Ø¨Ù„Øº Ú©Ù„ÛŒ ÙØ§Ú©ØªÙˆØ±: " + invoicePrice.toLocaleString() + " ØªÙˆÙ…Ø§Ù†\n";
  msg += (info.globalExtra > 0)
       ? "ğŸ”¹ Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø²ÛŒ/Ø§Ø¶Ø§ÙÙ‡: " + info.globalExtra.toLocaleString() + " ØªÙˆÙ…Ø§Ù†\n"
       : "";
  msg += "\n";
  msg += "â– Ù‚ÛŒÙ…Øª Ù¾Ø§ÛŒÙ‡ (Ø®Ø±ÛŒØ¯ Ù†Ù‚Ø¯ÛŒ): " + pNaghad.toLocaleString() + " ØªÙˆÙ…Ø§Ù†\n";
  msg += "â– Ù†Ø³ÛŒÙ‡ ÛŒÚ©â€ŒÙ…Ø§Ù‡Ù‡ (Ø¨Ø¯ÙˆÙ† Ù¾ÛŒØ´â€ŒÙ¾Ø±Ø¯Ø§Ø®Øª)ØŒ Ø³ÙˆØ¯ " + (monthlyInterest*100).toFixed(1) + "%: " 
         + pNasiehNoDP.toLocaleString() + " ØªÙˆÙ…Ø§Ù†\n";
  msg += "â– Ù†Ø³ÛŒÙ‡ ÛŒÚ©â€ŒÙ…Ø§Ù‡Ù‡ (Ø¨Ø§ 30Ùª Ù¾ÛŒØ´â€ŒÙ¾Ø±Ø¯Ø§Ø®Øª)ØŒ Ø³ÙˆØ¯ " + (monthlyInterest*100).toFixed(1) + "%: " 
         + pNasiehWithDP.toLocaleString() + " ØªÙˆÙ…Ø§Ù†\n";

  document.getElementById("resBox").textContent = msg;
});
</script>
</body>
</html>
 
