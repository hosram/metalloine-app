<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>محاسبه لیزینگ فلزات | Metalloine</title>

  <!-- فونت Vazirmatn (یا هر فونت فارسی دلخواه) -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/vazirmatn@33.003.4/Farsi-font-face.css" />

  <!-- استایل کلی (اگر در پروژه فایل استایل جدا دارید، می‌توانید همان را جایگزین کنید) -->
  <style>
    :root {
      --c-primary: #8E1F61;
      --c-accent:  #8FA2B2;
      --glass: rgba(255,255,255,0.1);
      --r: 24px;
      --g: 12px;
    }
    * {
      box-sizing: border-box; margin: 0; padding: 0;
    }
    body {
      background: #000; color: #fff;
      font-family: "Vazirmatn", sans-serif;
      min-height: 100vh; line-height: 1.6;
    }
    #topbar {
      display: flex; justify-content: center; align-items: center;
      height: 64px; margin: var(--g);
      background: var(--glass); backdrop-filter: blur(24px);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: var(--r);
    }
    .logo {
      display: flex; align-items: center; gap: 8px;
      font-size: 1.4rem; font-weight: 700;
    }
    .ring {
      width: 22px; height: 22px;
      border: 6px solid var(--c-accent); border-radius: 50%;
    }
    .brand { color: var(--c-primary); }

    main {
      max-width: 420px; margin: 0 auto; padding: var(--g);
    }
    .card {
      background: var(--glass); backdrop-filter: blur(24px);
      border-radius: var(--r);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 16px;
      margin-top: var(--g);
    }
    h2 {
      text-align: center; margin-bottom: var(--g);
    }
    label {
      display: flex; flex-direction: column; gap: 4px; font-size: 0.85rem;
      margin-bottom: 8px;
    }
    input, select, button {
      border: none; border-radius: var(--r);
      background: var(--glass); color: #fff; font: inherit;
      padding: 10px;
    }
    input:focus, select:focus {
      outline: 2px solid var(--c-primary);
    }
    /* برای این‌که منوی کشویی (select/option) کاملاً تیره باشد: */
    select {
      background: #333; /* یا #1a1a1a */
      color: #fff;
    }
    option {
      background: #333; /* یا #1a1a1a */
      color: #fff;
    }
    .btn-submit {
      background: linear-gradient(135deg, var(--c-primary), var(--c-accent));
      color: #fff; cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
      font-weight: 600; margin-top: 16px;
      width: 100%; text-align: center;
    }
    .result {
      background: #111; margin-top: 12px;
      padding: 12px; border-radius: var(--r);
      border: 1px solid rgba(255,255,255,0.2);
      font-size: 1rem; white-space: pre-line;
      min-height: 4em;
    }
    .btn-back {
      display: inline-block; margin-top: 20px;
      background: #444; color: #fff; border-radius: var(--r);
      padding: 10px 20px; text-decoration: none; text-align: center;
    }
  </style>
</head>
<body>
<header id="topbar">
  <span class="logo">
    <span class="ring"></span>
    <span class="brand">Metalloine</span>
  </span>
</header>

<main>
  <h2>محاسبه لیزینگ فلزات</h2>
  <div class="card">
    <!-- انتخاب نوع فلز -->
    <label>نوع فلز
      <select id="mat">
        <option>فولاد ساده</option>
        <option>فولاد زنگ‌نزن</option>
        <option>مس</option>
        <option>آلومینیوم</option>
        <option>برنج</option>
        <option>فسفر برنز</option>
        <option>تیتانیوم</option>
      </select>
    </label>

    <!-- مبلغ کلی فاکتور -->
    <label>مبلغ کلی فاکتور (تومان)
      <input id="invoicePrice" type="number" placeholder="مثلاً 5000000" />
    </label>

    <button id="btnCalc" class="btn-submit">محاسبه</button>

    <div class="result" id="resBox">نتیجه اینجا نمایش داده می‌شود</div>
    <a href="index.html" class="btn-back">⬅ بازگشت</a>
  </div>
</main>

<script>
/* برای هر فلز می‌توانیم اطلاعات خاص (مثلاً نرخ سود متفاوت یا هزینه ارزی) را تعریف کنیم. 
   این فقط یک نمونه‌ی اولیه برای نمایش نحوه‌ی اختصاص نرخ‌هاست. */
const metalData = {
  "فولاد ساده": {
    name: "فولاد ساده",
    monthlyInterest: 0.08, // 8% سود ماهانه
    globalExtra: 0        // بدون هزینه ارزی اضافه
  },
  "فولاد زنگ‌نزن": {
    name: "فولاد زنگ‌نزن",
    monthlyInterest: 0.08,
    globalExtra: 200000  // مثلاً هزینه ارزی بیشتر
  },
  "مس": {
    name: "مس",
    monthlyInterest: 0.07, // سود فرضی 7%
    globalExtra: 100000
  },
  "آلومینیوم": {
    name: "آلومینیوم",
    monthlyInterest: 0.08,
    globalExtra: 50000
  },
  "برنج": {
    name: "برنج",
    monthlyInterest: 0.08,
    globalExtra: 150000
  },
  "فسفر برنز": {
    name: "فسفر برنز",
    monthlyInterest: 0.08,
    globalExtra: 200000
  },
  "تیتانیوم": {
    name: "تیتانیوم",
    monthlyInterest: 0.09,
    globalExtra: 300000
  }
};

/* توابع محاسبه - نمونه */
function calcPriceNaghad(basePrice) {
  return basePrice;
}
function calcPriceOneMonthNoDP(basePrice, monthlyInterest=0.08) {
  return basePrice * (1 + monthlyInterest);
}
function calcPriceOneMonthWithDP(basePrice, dpRate=0.3, monthlyInterest=0.08) {
  const dp = basePrice * dpRate;
  const remaining = basePrice - dp;
  return dp + remaining * (1 + monthlyInterest);
}

/* تابع برای محاسبه قیمت پایه با هزینه ارزی یا هر اضافه دیگر */
function getBasePrice(metalKey, invoicePrice){
  const info = metalData[metalKey] || {};
  const extra = info.globalExtra || 0; // هزینه اضافی مربوط به متریال
  return invoicePrice + extra;
}

/* رویداد کلیک دکمه محاسبه */
document.getElementById("btnCalc").addEventListener("click", () => {
  const mat = document.getElementById("mat").value;          // فلز انتخابی
  const invoicePrice = parseFloat(document.getElementById("invoicePrice").value || "0");

  if (invoicePrice <= 0) {
    document.getElementById("resBox").textContent = "لطفاً مبلغ کلی فاکتور را وارد کنید.";
    return;
  }

  // اطلاعات فلز انتخابی را از آبجکت metalData می‌گیریم
  const info = metalData[mat];
  if (!info) {
    document.getElementById("resBox").textContent = "متریال نامعتبر است.";
    return;
  }

  // محاسبه قیمت پایه (مجموع مبلغ فاکتور + هزینه ارزی اگر باشد)
  const basePrice = getBasePrice(mat, invoicePrice);

  // محاسبه سناریوهای مختلف (سود ماهانه از info برداشت می‌شود)
  const monthlyInterest = info.monthlyInterest || 0.08;
  const pNaghad = calcPriceNaghad(basePrice);
  const pNasiehNoDP = calcPriceOneMonthNoDP(basePrice, monthlyInterest);
  const pNasiehWithDP = calcPriceOneMonthWithDP(basePrice, 0.3, monthlyInterest);

  let msg = "";
  msg += "🔹 نوع فلز: " + mat + "\n";
  msg += "🔹 مبلغ کلی فاکتور: " + invoicePrice.toLocaleString() + " تومان\n";
  msg += (info.globalExtra > 0)
       ? "🔹 هزینه ارزی/اضافه: " + info.globalExtra.toLocaleString() + " تومان\n"
       : "";
  msg += "\n";
  msg += "➖ قیمت پایه (خرید نقدی): " + pNaghad.toLocaleString() + " تومان\n";
  msg += "➖ نسیه یک‌ماهه (بدون پیش‌پرداخت)، سود " + (monthlyInterest*100).toFixed(1) + "%: " 
         + pNasiehNoDP.toLocaleString() + " تومان\n";
  msg += "➖ نسیه یک‌ماهه (با 30٪ پیش‌پرداخت)، سود " + (monthlyInterest*100).toFixed(1) + "%: " 
         + pNasiehWithDP.toLocaleString() + " تومان\n";

  document.getElementById("resBox").textContent = msg;
});
</script>
</body>
</html>
 
